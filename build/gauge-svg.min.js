var GAUGE=function(){return{domElem:document.getElementById("gauge"),domElemContainer:document.getElementById("gauge-container"),settings:{aperture:240,radiusGauge:200,division:{divisionsPerSection:10,color:"#bbb",radius:1},divisionBreakpoint:{width:2,height:8,color:"#333",valueColor:["#666666","#666666","#666666","#666666","#666666","#666666","#666666","#ffa500","#ffa500","#ff0000"],value:[1,2,3,4,5,6]},divisionText:{fontFamily:"arial",fontSize:"14",position:"outside",color:"#000",rotateText:!1},arrow:{angle:0,radiusCircle:10,colorCircle:"#1e98e4",colorArrow:"#1e98e4"}},getPointOnCircle:function(a,b,c,d){return{x:a+c*Math.cos(Math.PI*(d+270-this.settings.aperture/2)/180),y:b+c*Math.sin(Math.PI*(d+270-this.settings.aperture/2)/180)}},gaugeInit:function(){console.log(this.domElemContainer.offsetWidth),console.log(this.domElemContainer.offsetWidth),console.log(document.getElementById("gauge-container").offsetWidth);for(var a=this.settings.aperture/(this.settings.divisionBreakpoint.value.length-1),b=this.settings.aperture/this.settings.divisionBreakpoint.valueColor.length,c=0;c<this.settings.divisionBreakpoint.valueColor.length;c++)this.drawPartOfCircle(this.domElemContainer.offsetWidth/2,this.domElemContainer.offsetHeight/2,this.settings.radiusGauge,c*b,(c+1)*b,this.settings.divisionBreakpoint.valueColor[c]);for(var c=0;c<=this.settings.divisionBreakpoint.value.length-1;c++){if(c!==this.settings.divisionBreakpoint.value.length-1)if("outside"===this.settings.divisionText.position)for(var d=1;d<this.settings.division.divisionsPerSection;d++)this.drawDivisionCircle(this.domElemContainer.offsetWidth/2,this.domElemContainer.offsetHeight/2,this.settings.radiusGauge+15,c*a+d*a/this.settings.division.divisionsPerSection,this.settings.division.radius,this.settings.division.color);else for(var d=1;d<this.settings.division.divisionsPerSection;d++)this.drawDivisionCircle(this.domElemContainer.offsetWidth/2,this.domElemContainer.offsetHeight/2,this.settings.radiusGauge-15,c*a+d*a/this.settings.division.divisionsPerSection,this.settings.division.radius,this.settings.division.color);"outside"===this.settings.divisionText.position?(this.drawDivision(this.domElemContainer.offsetWidth/2,this.domElemContainer.offsetHeight/2,this.settings.radiusGauge+20,c*a,this.settings.divisionBreakpoint.height,this.settings.divisionBreakpoint.width,this.settings.divisionBreakpoint.color,this.settings.divisionBreakpoint.value[c]),this.drawDivisionLabel(this.domElemContainer.offsetWidth/2,this.domElemContainer.offsetHeight/2,this.settings.radiusGauge+30,c*a,this.settings.divisionBreakpoint.value[c])):(this.drawDivision(this.domElemContainer.offsetWidth/2,this.domElemContainer.offsetHeight/2,this.settings.radiusGauge-15,c*a,this.settings.divisionBreakpoint.height,this.settings.divisionBreakpoint.width,this.settings.divisionBreakpoint.color,this.settings.divisionBreakpoint.value[c]),this.drawDivisionLabel(this.domElemContainer.offsetWidth/2,this.domElemContainer.offsetHeight/2,this.settings.radiusGauge-50,c*a,this.settings.divisionBreakpoint.value[c]))}this.drawArrow(this.domElemContainer.offsetWidth/2,this.domElemContainer.offsetHeight/2,this.settings.radiusGauge,this.settings.arrow.angle,this.settings.arrow.colorArrow,this.settings.arrow.radiusCircle,this.settings.arrow.colorCircle)},drawArrow:function(a,b,c,d,e,f,g){var h;h=this.getPointOnCircle(a,b,c,d),this.drawPolygon(a,b,f,c,e,d,this.domElem),h=this.getPointOnCircle(a,b,f,d),this.drawCircle(a,b,f,g,this.domElem)},drawPartOfCircle:function(a,b,c,d,e,f){var g,h;g=this.getPointOnCircle(a,b,c,d),h=this.getPointOnCircle(a,b,c,e),this.drawArc(g,h,c,f,this.domElem)},drawPolygon:function(a,b,c,d,e,f,g){f=f+180-this.settings.aperture/2;var h;h=document.createElementNS("http://www.w3.org/2000/svg","polygon"),h.setAttributeNS(null,"points",a+","+(b+d)+","+(a+c/2)+","+b+" "+(a-c/2)+","+b),h.setAttributeNS(null,"fill",e),h.setAttributeNS(null,"data-cx",a),h.setAttributeNS(null,"data-cy",b),h.setAttributeNS(null,"id",this.domElem.id+"-arrow"),h.setAttributeNS(null,"transform","translate(0) rotate("+f+" "+a+" "+b+")"),g.appendChild(h)},drawArc:function(a,b,c,d,e){var f;f=document.createElementNS("http://www.w3.org/2000/svg","path"),f.setAttributeNS(null,"d","M"+a.x+","+a.y+" A"+c+","+c+" 0 0,1 "+b.x+","+b.y),f.setAttributeNS(null,"stroke-width",3),f.setAttributeNS(null,"opacity",1),f.setAttributeNS(null,"fill","none"),void 0===d?f.setAttributeNS(null,"class","arc arc-default"):(f.setAttributeNS(null,"class","arc arc-color"),f.setAttributeNS(null,"stroke",d)),e.appendChild(f)},drawDivision:function(a,b,c,d,e,f,g,h){var i,j,k;i=this.getPointOnCircle(a,b,c,d),k=d+90-this.settings.aperture/2,j=document.createElementNS("http://www.w3.org/2000/svg","rect"),j.setAttributeNS(null,"x",i.x),j.setAttributeNS(null,"y",i.y),j.setAttributeNS(null,"transform","translate(0) rotate("+k+" "+i.x+" "+i.y+")"),j.setAttributeNS(null,"height",f),j.setAttributeNS(null,"width",e),j.setAttributeNS(null,"fill",g),this.domElem.appendChild(j)},drawDivisionLabel:function(a,b,c,d,e){var f,g;f=this.getPointOnCircle(a,b,c,d),g=d-this.settings.aperture/this.settings.divisionBreakpoint.value.length/2-90,this.drawText(f.x,f.y,this.settings.divisionText.fontFamily,this.settings.divisionText.fontSize,"middle",this.settings.divisionText.color,"translate(0, 0) rotate("+g+" "+f.x+" "+f.y+")",e,this.domElem)},drawDivisionCircle:function(a,b,c,d,e,f){var g,h;g=this.getPointOnCircle(a,b,c,d),h=d-this.settings.aperture/this.settings.divisionBreakpoint.value.length/2-90,this.drawCircle(g.x,g.y,e,f,this.domElem)},drawCircle:function(a,b,c,d,e){var f;f=document.createElementNS("http://www.w3.org/2000/svg","circle"),f.setAttributeNS(null,"cx",a),f.setAttributeNS(null,"cy",b),f.setAttributeNS(null,"r",c),f.setAttributeNS(null,"fill",d),e.appendChild(f)},drawText:function(a,b,c,d,e,f,g,h,i){var j;j=document.createElementNS("http://www.w3.org/2000/svg","text"),j.setAttributeNS(null,"x",a),j.setAttributeNS(null,"y",b),j.setAttributeNS(null,"font-family",c),j.setAttributeNS(null,"font-size",d),j.setAttributeNS(null,"text-anchor",e),j.setAttributeNS(null,"fill",f),this.settings.divisionText.rotateText===!0&&j.setAttributeNS(null,"transform",g),i.appendChild(j).textContent=h},transformArrow:function(a){var b,c,d;b=a+180-this.settings.aperture/2,c=document.getElementById(this.domElem.id+"-arrow").getAttributeNS(null,"data-cx"),d=document.getElementById(this.domElem.id+"-arrow").getAttributeNS(null,"data-cy"),document.getElementById(this.domElem.id+"-arrow").setAttributeNS(null,"transform","translate(0) rotate("+b+" "+c+" "+d+")")}}}(GAUGE||{});